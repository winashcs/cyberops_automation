import time
import tkinter as tk
from tkinter import messagebox
import rotatescreen

# Function to perform screen rotations
def perform_screen_rotations(num_rotations):
    p = rotatescreen.get_primary_display()
    rotation_angles = [90, 180, 270, 0]
    
    for _ in range(num_rotations):
        for angle in rotation_angles:
            p.rotate_to(angle)
            time.sleep(0.5)

# Function to handle button click event
def rotate_screen():
    try:
        num_rotations = int(entry.get())
        if num_rotations <= 0:
            raise ValueError("Number of rotations must be a positive integer.")
        
        perform_screen_rotations(num_rotations)
        messagebox.showinfo("Rotation Complete", f"Screen rotated {num_rotations} times.")
    
    except ValueError as e:
        messagebox.showerror("Error", str(e))

# Create the main application window
root = tk.Tk()
root.title("Screen Rotation")

# Create GUI components
label = tk.Label(root, text="Enter the number of rotations:")
label.pack(pady=10)

entry = tk.Entry(root, width=20)
entry.pack(pady=5)

button = tk.Button(root, text="Rotate Screen", command=rotate_screen)
button.pack(pady=10)

# Run the Tkinter event loop
root.mainloop()
